# 070 애플리케이션 성능 분석

## 1 애플리케이션 성능

- 애플리케이션 성능이란 사용자가 요구한 기능을 최소한의 자원을 사용하여 최대한 많은 기능을 신속하게 처리하는 정도를 나타낸다
- 애플리케이션 성능 측정 지표
  - 처리량(Throughput)
    - 일정 시간 내에 애플리케이션이 처리하는 일의 양
  - 응답 시간(Response Time)
    - 애플리케이션에 요청을 전달한 시간부터 응답이 도착할 때까지 걸린 시간
  - 경과 시간(Turn Around Time)
    - 애플리케이션에 작업을 의뢰한 시간부터 처리가 완료될 때까지 걸린 시간
  - 자원 사용률(Resource Usage)
    - 애플리케이션이 의뢰한 작업을 처리하는 동안의 CPU 사용량, 메모리 사용량, 네트워크 사용량 등 자원 사용률
- 애플리케이션의 성능 분석 도구는 애플리케이션의 성능을 테스트하는 도구와 시스템을 모니터링하는 도구로 분류된다



## 2 성능 테스트 도구

- 성능 테스트 도구는 애플리케이션의 성능을 테스트하기 위해 애플리케이션에 부하나 스트레스를 가하면서 애플리케이션의 성능 측정 지표를 점검하는 ㄴ도구이다
- 종류
  - JMeter
    - HTTP, FTP 등 다양한 프로토콜을 지원하는 부하 테스트 도구
    - Cross-Platform
  - LoadUI
    - 서버 모니터링, Drag&Drop 등 사용자의 편리성이 강화된 부하 테스트 도구
    - HTTP, JDBC 등 다양한 프로토콜 지원
    - Cross-Platform
  - OpenSTA
    - HTTP, HTTPS 프로토콜에 대한 부하 테스트 및 생산품 모니터링 도구
    - Windows



## 3 시스템 모니터링(Monitoring) 도구

- 시스템 모니터링 도구는 애플리케이션이 실행되었을 때 시스템 자원의 사용량을 확인하고 분석하는 도구이다
- 시스템 모니터링 도구는 성능 저하의 원인 분석, 시스템 부하량 분석, 사용자 분석 등 시스템을 안정적으로 운영할 수 있는 기능을 제공한다
- 종류
  - Scouter
    - 단일 뷰 통합/실시간 모니터링, 튜닝에 최적화된 인프라 통합 모니터링 도구
    - 애플리케이션의 성능을 모니터링/통제하는 도구
    - Cross-Platform
  - Zabbix
    - 웹기반 서버, 서비스, 애플리케이션 등의 모니터링 도구
    - Cross-Platform



## 4 애플리케이션 성능 저하 원인 분석

- 애플리케이션의 성능 저하 현상은 애플리케이션을 DB에 연결하기 위해 Connection 객체를 생성하거나 쿼리를 실행하는 애플리케이션 로직에서 많이 발생한다
- 다음은 애플리케이션의 성능 저하 현상을 발생시키는 주요 요인이다
  - DB에 필요 이상의 많은 데이터를 요청한 경우
  - 데이터베이스의 락(DB Lock)이 해제되기를 기다리면서 애플리케이션이 대기하거나 타임아웃된 경우
  - 커넥션 풀(Connection Pool)의 크기를 너무 작거나 크게 설정한 경우
  - JDBC나 ODBC 같은 미들웨어를 사용한 후 종료하지 않아 연결 누수(Connection Leak)가 발생한 경우
  - 트랜잭션이 확정(Commit)되지 않고 커넥션 풀에 반환되거나, 잘못 작성된 코드로 인해 불필요한 Commit이 자주 발생하는 경우
  - 인터넷 접속 불량으로 인해 서버 소켓(Server Socket)에 쓰기는 지속되나, 클라이언트에서 정상적인 읽기가 수행되지 않는 경우
  - 대량의 파일을 업로드하거나 다운로드하여 처리 시간이 길어진 경우
  - 트랜잭션 처리 중 외부 호출이 장시간 수행되거나 타임아웃된 경우
  - 네트워크 관련 장비 간 데이터 전송이 실패하거나 전송 지연으로 인해 데이터 손실이 발생한 경우



## 5 애플리케이션 성능 분석 절차

- 애플리케이션의 성능 점검을 위해 성능 테스트 도구와 시스템 모니터링 도구의 유형을 파악하고 그 특징을 정리한다
- 성능 점검의 개요, 수행 전략, 수행 일정 및 절차, 수행 방식 등을 포함하여 애플리케이션 성능 점검 계획서를 작성한다
- 애플리케이션 성능 측정을 위한 테스트 케이스를 작성한다
- 애플리케이션 성능 테스트를 수행한다
- 애플리케이션의 성능 테스트 결과를 분석한다
- 애플리케이션의 성능 저하 요인을 찾아 분석한다