# 042 연계 메커니즘 정의

## 1 연계 메커니즘의 개요

- 연계 메커니즘은 데이터의 생성 및 전송을 담당하는 송신 체계와 데이터 수신 및 운영 DB 반영을 담당하는 수신 체계로 구성된다
- 송신 시스템은 운영 DB로부터 인터페이스 테이블이나 파일(xml, text, csv 등) 형식으로 연계 데이터를 생성하여 송신한다
- 수신 시스템은 송신 시스템으로부터 전송된 데이터를 받아 수신 시스템에 맞는 데이터로 변환한 후 운영 DB에 반영한다
- 송수신 시스템 사이에는 데이터의 송수신과 송수신 시스템 현황을 모니터링하는 중계 시스템을 설치할 수 있다
- 송수신 시스템과 중계 시스템은 제각기 역할이 중복되지 않도록 아키텍처를 설계한 후 인터페이스 테스트와 통합 테스트를 통해 기능을 검증한다
- 연계 메커니즘의 연계 방식에는 직접 연계 방식과 간접 연계 방식이 있다



## 2 직접 연계 방식

- 직접 연계 방식은 중간 매개체 없이 송수신 시스템이 직접 연계하는 방식이다



### 장점

- 연계 및 통합 구현이 단순하고 용이하다
- 중간 매개체 없이 직접 연계되기 때문에 데이터 연계 처리 성능이 뛰어나다
- 개발 비용이 저렴하다
- 개발 기간이 짧다



### 단점

- 송수신 시스템 간 결합도(Coupling)가 높아 시스템 변경 시 오류가 발생할 수 있다
- 보안을 위한 암호화, 복호화 처리와 비즈니스 로직(Business Logic)을 적용하기 어렵다
- 연계 및 통합이 가능한 시스템 환경이 제한적이다



### 종류

- DB Link
  - DB에서 제공하는 DB Link 객체를 이용하는 방식이다
- API(Application Programming Interface) / Open API
  - 데이터를 송신 시스템의 DB에서 읽어와 제공하는 애플리케이션 프로그래밍 인터페이스이다
- DB Connection
  - 수신 시스템의 WAS(웹 애플리케이션 서버)에서 송신 시스템의 DB로 연결해주는 방식이다
- JDBC(Java DataBse Connectivity)
  - Java에서 DB에 접근하여 데이터를 삽입, 삭제, 수정, 조회할 수 있도록 Java와 DB를 연결해주는 방식이다



## 3 간접 연계 방식

- 간접 연계 방식은 송수신 시스템 사이에 중간 매개체를 두어 연계하는 방식이다



### 장점

- 서로 다른 네트워크, 프로토콜 등 다양한 환경의 연계 및 통합이 가능하다
- 송수신 시스템 간 인터페이스가 변경되어도 오류 없이 서비스가 가능하다
- 보안 품질 보장과 비즈니스 처리를 위한 로직(Logic)을 쉽게 반영할 수 있다



### 단점

- 연계 메커니즘과 아키텍처가 복잡하다
- 중간 매개체로 인해 성능이 저하될 수 있다
- 개발 및 적용 기간이 비교적 길다



### 종류

- 연계 솔루션
  - EAI 서버와 송수신 시스템에 설치되는 클라이언트(Client)를 이용하는 방식이다
- ESB(Enterprise Service Bus)
  - 애플리케이션 간 연계, 데이터 변환, 웹 서비스 지원 등 표준 기반의 인터페이스를 제공하는 방식이다
- Socket
  - 서버는 통신을 위한 소켓(Socket)을 생성하여 포트를 할당하고 클라이언트의 통신 요청 시 클라이언트와 연결하여 통신하는 네트워크 기술이다
- Web Service
  - 웹 서비스(Web Service)에서 WSDL과 UDDI, SOAP 프로토콜을 이용하여 연계하는 방식이다



## 4 연계 메커니즘의 구성

### 연계 데이터 생성 및 추출

- 연계 데이터 생성 및 추출은 연계 솔루션과 관계없이 응용 프로그램이나 DB 등 응용 시스템에서 연계 데이터를 생성하고 추출하는 것이다
- 데이터의 생성 및 추출 과정에서 오류가 발생할 경우 오류 발생 시점, 오류 코드, 오류 내용 등을 로그(Log) 테이블이나 파일에 기록한다



### 코드 매핑 및 데이터 변환

- 코드 매핑 및 데이터 변환은 송신 시스템에서 사용하는 코드를 수신 시스템에서 사용하는 코드로 매핑 및 변환하는 것이다
- 코드 매핑 및 데이터 변환은 다음 시점 중 시스템 환경과 특성에 따라 적절한 시점을 선택하여 수행한다
  - 송신 시스템에서 인터페이스 테이블이나 파일을 생성할 때
  - 수신 시스템에서 수신 받은 연계 데이터를 운영 DB에 반영할 때
  - 연계 서버를 설치할 때(연계 서버에서 수행)
- 시스템 환경과 특성에 따라 코드 매핑 및 데이터 변환 위치를 결정한다
- 코드 매핑 및 데이터 변환 과정에서 오류가 발생할 경우 변환 일시, 오류 코드, 오류 내용 등을 로그(Log) 테이블이나 파일에 기록한다



### 인터페이스 테이블 또는 파일 생성

- 인터페이스 테이블 또는 파일 생성은 연계 데이터를 인터페이스 테이블이나 파일 형식으로 생성하는 것이다
- 연계 솔루션의 지원 기능에 따라 인터페이스 테이블이나 파일 형식 여부를 결정한다
- 송수신 시스템의 인터페이스 테이블의 구조는 대부분 동일하게 구성하지만 상황에 따라 서로 다르게 설계할 수도 있다
- 송수신 시스템의 인터페이스 텡이블 또는 파일 생성 시 송수신 관련 정보 관리 항목과 기타 필요 항목을 추가한다
- 송신 시스템에서 인터페이스 테이블 또는 파일 생성 시 개인정보와 같이 보안이 필요한 데이터는 암호화(Encryption)하고, 수신 시스템에서 암호화된 데이터를 운영 DB에 반영 시 복호화(Decryption)한다
- 인터페이스 테이블이나 파일 생성 시 발생한 오류 내역은 로그(Log) 테이블이나 파일에 기록한다



### 로그(Log) 기록

- 로그 기록은 송수신 시스템에서 수행되는 모든 과정에 대한 결과 및 오류에 대한 정보를 로그 테이블이나 파일에 기록하는 것이다
- 송수신 시스템의 모니터링 목적에 따라 로그 테이블과 파일의 관리 항목을 서로 다르게 기록할 수 있다
- 로그 파일 기록 시 파일 생성 위치, 파일 생성 시점, 파일명 생성 규칙, 파일 형식 등을 포함시킨다



### 연계 서버 또는 송수신 어댑터

- 연계 서버는 송수신 시스템 중 한 곳에 설치하며 인터페이스 테이블 또는 파일의 데이터를 전송 형식에 맞게 변환하고 송수신을 수행하는 등 송수신과 관련된 모든 처리를 수행한다
- 송신 어댑터는 송신 시스템에 설치하며, 인터페이스 테이블 또는 파일의 데이터를 전송 형식에 맞도록 변환하고 송신을 수행한다
- 수신 어댑터는 수신 시스템에 설치하며, 송신 시스템으로부터 수신한 데이터를 인터페이스 테이블이나 파일로 생성한다



### 전송

- 전송은 송신 시스템에서 생성된 연계 데이터를 네트워크 환경에 맞는 데이터로 변환한 후 수신 시스템으로 보내는 것이다
- 전송 주기는 실시간, 분, 시간, 일 단위 등으로 설정할 수 있으며, 다음과 같은 항목에 의해 결정된다
  - 송신 시스템에서 연계 데이터를 생성 및 추출하는 방식
  - 연계 서버 또는 송수신 어댑터의 연계 주기
  - 수신 시스템에서 연계 데이터를 운영 DB에 반영하는 방식



### 운영 DB에 연계 데이터 반영

- 운영 DB에 연계 데이터를 반영하는 것은 수신된 인터페이스 테이블 또는 파일 구조의 데이터를 변환 프로그램을 이용하여 수신 시스템의 운영 DB에 반영하는 것을 말한다
- 변환 프로그램에는 수신된 데이터가 송신 시스템의 운영 DB에서 사용하는 공통 코드와 데이터 형식으로 전환되고 이를 확인하는 작업을 포함시켜야 한다

