# 118 SQL  - 커서(Cursor)

## 커서(Cursor)

- 쿼리문의 처리 결과가 저장되어 있는 메모리 공간을 가리키는 포인터(Pointer)이다
- 커서는 내부에서 자동으로 생성되어 사용되는 묵시적 커서와, 사용자가 직접 정의해서 사용하는 명시적 커서가 있다
- 커서의 수행은 열기(Open), 패치(Fetch), 닫기(Close)의 세 단계로 진행된다



## 묵시적 커서(Implicit Cursor)

- DBMS 자체적으로 열리고(Open) 패치(Fetch)되어 사용이 끝나면 닫히지만(Close) 커서의 속성을 조회하여 사용된 쿼리 정보를 열람하는 것이 가능하다
- 커서의 속성
  - SQL%FOUND
    - 쿼리 수행의 결과로 패치(Fetch)된 튜플 수가 1개 이상이면 TRUE
  - SQL%NOTFOUND
    - 쿼리 수행의 결과로 패치된 튜플 수가 0개이면 TRUE
  - SQL%ROWCOUNT
    - 쿼리 수행의 결과로 패치된 튜플 수를 반환
  - SQL%ISOPEN
    - 커서가 열린(Open) 상태이면 TRUE
    - 묵시적 커서는 자동으로 생성된 후 자동으로 닫히기 때문에 항상 FALSE



## 명시적 커서(Explicit Cursor)

- 사용자가 직접 정의해서 사용하는 커서로, 주로 절차형 SQL에서 SELECT문의 결과로 반환되는 여러 튜플들을 제어하기 위해 사용된다
- 커서는 기본적으로 '열기(Open) - 패치(Fetch) - 닫기(Close)' 순으로 이루어지며, 명시적 커서로 사용하기 위해서는 열기 전에 선언(Declare)을 해야 한다