# 080 제어문

## 1 제어문의 개요

- 절차형 SQL은 '절차형' 이라는 말 그대로 SQL 명령어가 서술된 순서에 따라 위에서 아래로 차례대로 실행되는데, 제어문은 이러한 진행 순서를 변경하기 위해 사용하는 명령문이다
- 제어문의 종류에는 IF, LOOP, GOTO 등이 있다



## 2 IF문

- IF문은 조건에 따라 실행할 문장을 달리하는 제어문이다

- 형식1 : 조건이 참일 때만 실행한다

  - ```SQL
    IF 조건 THEN
    	실행할 문장 1;
    	실행할 문장 2;
    	...
    END IF;
    ```

- 형식2 : 조건이 참일 때와 거짓일 때 실행할 문장이 다르다

  - ```SQL
    IF 조건 THEN
    	실행할 문장 1;
    ELSE
    	실행할 문장 2;
    END IF;
    ```

- 형식3 : 조건이 여러 개일 때 각 조건마다 실행할 문장이 다르다

  - ```SQL
    IF 조건1 THEN
    	실행할 문장 1;
    ELSIF 조건2 THEN
    	실행할 문장 2;
    ELSIF 조건3 THEN
    	실행할 문장 3;
    ELSE
    	실행할 문장 4;
    END IF;
    ```



## 3 LOOP문

- LOOP문은 조건에 따라 실행할 문장을 반복 수행하는 제어문이다

- 기본형 : EXIT WHEN 조건이 참일 때 반복을 종료한다

  - ```SQL
    LOOP
    	실행할 문장;
    	EXIT WHEN 조건;
    END LOOP;
    ```

- FOR LOOP : 초기값부터 종료값까지 1씩 증가하면서 실행할 문장을 반복 수행한다

  - ```SQL
    FOR 변수 IN 초기값..종료값
    LOOP
    	실행할 문장;
    END LOOP;
    ```

- WHILE LOOP : 조건이 참인 동안 실행할 문장을 반복 수행한다

  - ```SQL
    WHILE 조건
    LOOP
    	실행할 문장;
    END LOOP;
    ```



## 4 CONTINUE

- CONTINUE는 반복문의 실행을 제어하기 위해 사용하는 예약어이다

- CONTINUE 이후의 문장은 실행하지 않고 제어를 반복문의 처음으로 옮긴다

- 형식

  - ```SQL
    CONTINUE WHEN 조건;
    ```



## 5 GOTO 문

- GOTO문은 원하는 위치로 이동하여 명령문을 수행하기 위해 사용하는 제어문이다

- GOTO문은 원하는 문장으로 쉽게 이동할 수 있지만 많이 사용하면 프로그램의 이해와 유지 보수가 어려워저 거의 사용하지 않는다

- 형식

  - ```SQL
    GOTO 레이블;
    <<레이블>>
    실행할 문장;
    ```

  - <<레이블>>은 GOTO문의 주소값으로, '<<레이블>>'의 형태로 작성한다.

  - 레이블은 사용자가 원하는 이름을 임의로 지정할 수 있다